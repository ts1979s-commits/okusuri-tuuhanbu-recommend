# 💊 お薬通販部商品レコメンドAI

商品検索・レコメンドシステム - フェーズ1完成版

## 🎯 概要

お薬通販部の商品情報を活用したAI駆動の商品レコメンドシステムです。
症状や商品名での検索、サプリメントカテゴリ検索など、多様な検索機能を提供します。

## ✨ 主な機能

### � **高精度検索機能**
- **症状ベース検索**: 自然な日本語での症状入力に対応
- **性病・感染症専用検索**: クラミジア、ヘルペス、カンジダなど厳密マッチング
- **商品名検索**: 部分一致・完全一致検索
- **カテゴリ検索**: ED治療薬、AGA治療薬など

### 💊 **サプリメント専用検索**
- **EDサプリ**: スペマン
- **男性薄毛サプリ**: プレミアムリジン  
- **ダイエットサプリ**: アーユスリム、トリファラ
- **美容サプリ**: プエラリアミリフィカタブレット、L-グルタチオン

### 🛡️ **システム機能**
- **重複防止機能**: 同一商品の重複表示を防止
- **レスポンシブUI**: ダークモード対応
- **キャッシュ機能**: 検索結果の高速表示

## 🛠️ 技術スタック

- **Python 3.11+**
- **Streamlit** (Web UI)
- **pandas** (データ処理)
- **FAISS** (ベクトル検索 - オプション)
- **OpenAI API** (AI機能 - オプション)

## 📁 プロジェクト構造

```
okusuri-tuuhanbu-recommend/
├── app.py                     # メインStreamlitアプリケーション
├── main.py                    # エントリーポイント
├── requirements.txt           # 依存パッケージ
├── .env                      # 環境変数設定（OpenAI APIキー）
├── .env.example              # 環境変数テンプレート
├── config/
│   ├── __init__.py
│   └── settings.py           # アプリケーション設定
├── src/                      # ソースコード
│   ├── __init__.py
│   ├── scraper.py            # Webスクレイピング機能（オプション）
│   ├── faiss_rag_system.py   # FAISSベースRAGシステム（オプション）
│   ├── recommendation_engine.py  # レコメンドエンジン
│   └── data_exporter.py      # データエクスポート機能
├── data/
│   └── product_recommend.csv # 商品データベース（35商品）
└── .streamlit/               # Streamlit設定
    └── config.toml
```

## 🚀 セットアップ・使用方法

### 1. 必要な環境
- **Python 3.11以上**
- **pip** (パッケージ管理)

### 2. インストール

```bash
# リポジトリクローン
git clone https://github.com/ts1979s-commits/okusuri-tuuhanbu-recommend.git
cd okusuri-tuuhanbu-recommend

# 仮想環境作成・有効化（推奨）
python -m venv env
env\Scripts\activate  # Windows
# source env/bin/activate  # Mac/Linux

# 依存パッケージインストール
pip install -r requirements.txt
```

### 3. 環境変数設定（AIモード使用時のみ）

```bash
# .envファイル作成
copy .env.example .env

# .envファイル編集
OPENAI_API_KEY=your_openai_api_key_here
```

### 4. アプリケーション起動

```bash
# Web UI起動（推奨）
streamlit run app.py

# または
python main.py
```

ブラウザで `http://localhost:8501` にアクセス

## 🔍 検索例・使用方法

### 💊 症状ベース検索
```
・頭痛が続いています
・風邪をひいて喉が痛い
・抜け毛が気になります
・肌荒れを改善したい
```

### 🦠 性病・感染症検索
```
・クラミジア
・ヘルペス  
・カンジダ
・性病
・尿道炎
```

### 🍃 サプリメント検索
```
・EDサプリ         → スペマン
・薄毛サプリ       → プレミアムリジン
・ダイエットサプリ  → アーユスリム、トリファラ
・美容サプリ       → プエラリア、グルタチオン
・サプリメント     → 全サプリ表示
```

### 💊 商品名検索
```
・カマグラゴールド
・フィナクス
・アジー
・バルクロビル
```

### 🏷️ カテゴリ検索
```
・ED治療薬
・AGA治療薬
・ダイエット
・美容・スキンケア
```

## ✅ 実装済み機能

### 🔍 **検索機能**
- **基本検索**: CSV データベースベースの高速検索
- **専用検索マッピング**: 性病・感染症、サプリメント専用ロジック
- **重複防止**: 同一商品の重複表示防止機能
- **スコアリング**: 類似度ベースの結果ランキング

### 🎨 **UI・UX**
- **レスポンシブデザイン**: ダークモード対応
- **キャッシュ機能**: 検索結果の高速表示
- **エラーハンドリング**: 詳細なエラー表示と対処法
- **システム状態表示**: リアルタイムシステム監視

### 📊 **商品データベース**
- **35商品**: ED、AGA、性病・感染症、ダイエット、美容など
- **詳細情報**: 商品名、効果、有効成分、カテゴリ、説明、URL
- **検索キーワード**: 最適化されたキーワード設定

## � 今後の拡張可能性

### 📈 **機能拡張**
- **画像表示機能**: 商品画像の表示
- **カテゴリ追加**: 免疫サプリ、睡眠サプリなど
- **検索精度向上**: より高度な自然言語処理
- **ユーザー履歴**: 個人化レコメンド

### 🔧 **技術拡張**
- **AI機能**: OpenAI API統合（オプション）
- **ベクトル検索**: FAISS統合（オプション）  
- **API化**: RESTful API提供
- **モバイル対応**: レスポンシブ強化

## ⚠️ 注意事項

1. **医薬品情報**: 商品情報は参考目的のみ。実際の使用前は医師・薬剤師にご相談ください
2. **商品の最新情報**: 価格・在庫状況は公式サイトでご確認ください
3. **APIコスト**: OpenAI API使用時は利用量にご注意ください（オプション機能）
4. **データ更新**: 商品データベースは定期的な更新が推奨されます

## 🔧 トラブルシューティング

### よくある問題と解決法

**🚨 検索結果が表示されない**
```
→ 「リロード」ボタンを押してシステム再構築
→ ページの再読み込み (F5)
```

**🚨 エラーが発生する**
```
→ 依存パッケージの再インストール: pip install -r requirements.txt
→ Python バージョン確認: Python 3.11以上推奨
```

**🚨 起動しない**
```
→ 仮想環境の確認: env\Scripts\activate
→ Streamlit再インストール: pip install --upgrade streamlit
```

## 📊 システム要件

- **Python**: 3.11以上
- **メモリ**: 2GB以上推奨
- **ストレージ**: 500MB以上の空き容量
- **ブラウザ**: Chrome、Firefox、Safari、Edge (最新版)
- **インターネット**: OpenAI API使用時のみ必要

## 🤝 開発・拡張について

このシステムは拡張性を考慮して設計されており、以下のような改善・機能追加が容易に行えます：

- **新しいサプリメントカテゴリの追加**
- **商品データベースの拡張**  
- **検索アルゴリズムの改善**
- **UI・UXの向上**

フィードバックや機能要望がございましたら、お気軽にお知らせください。

## 📄 ライセンス

このプロジェクトは教育・研究目的で開発されています。

---

## 🔗 関連リンク

- **[お薬通販部](https://okusuritsuhan.shop/)** - 商品データソース
- **[Streamlit](https://streamlit.io/)** - Web UIフレームワーク  
- **[OpenAI API](https://openai.com/api/)** - AI機能（オプション）
- **[プロジェクトリポジトリ](https://github.com/ts1979s-commits/okusuri-tuuhanbu-recommend)** - GitHub

---
**💊 お薬通販部商品レコメンドAI - v1.0**  
*Powered by Python + Streamlit + AI*